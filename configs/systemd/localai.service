[Unit]
Description=LocalAI Docker Container
Requires=docker.service
After=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
ExecStartPre=-/usr/bin/docker stop local-ai
ExecStartPre=-/usr/bin/docker rm local-ai
ExecStart=/usr/bin/docker run --name local-ai -p 8080:8080 --device=/dev/kfd --device=/dev/dri --group-add=video localai/localai:latest-aio-gpu-hipblas
ExecStop=/usr/bin/docker stop local-ai
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
